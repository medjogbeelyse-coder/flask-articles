<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Nos Catalogues de Produits</title>
<script src="https://cdn.tailwindcss.com"></script>
<style>
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap');

body{
font-family:'Inter',sans-serif;
min-height:100vh;
background:#f8fafc;
color:#1f2937;
}

header{
background:rgba(15,23,42,.95);
backdrop-filter:blur(10px);
}

.container{
max-width:1200px;
margin:40px auto;
padding:32px;
border-radius:24px;
background:white;
}

h1,h2{
color:#1e3a8a;
}

h2{
border-bottom:2px solid #3b82f6;
padding-bottom:8px;
margin-bottom:20px;
}

.product-card{
background:white;
border-radius:18px;
padding:16px;
box-shadow:0 10px 30px rgba(0,0,0,.15);
display:flex;
flex-direction:column;
justify-content:space-between;
transition:.3s;
}

.product-card:hover{
transform:translateY(-4px);
box-shadow:0 16px 40px rgba(0,0,0,.25);
}

.product-card img{
width:100%;
height:160px;
object-fit:cover;
border-radius:14px;
margin-bottom:12px;
}

.product-footer{
background:#e0f2fe;
padding:14px;
border-radius:14px;
text-align:center;
font-weight:600;
color:#1e3a8a;
}

.button{
display:inline-block;
margin-top:12px;
background:linear-gradient(135deg,#3b82f6,#1e3a8a);
color:white;
font-weight:600;
padding:10px 16px;
border-radius:12px;
text-align:center;
transition:.2s;
}

.button:hover{
transform:translateY(-2px);
box-shadow:0 6px 18px rgba(0,0,0,.3);
}

footer{
background:#0f172a;
color:white;
padding:16px;
text-align:center;
margin-top:40px;
}
</style>
</head>

<body>

<header class="text-white">
<div class="max-w-7xl mx-auto px-4 py-4 flex justify-between items-center">
<a href="{{ url_for('home') }}" class="text-2xl font-bold">Muni-Market</a>
<nav class="hidden sm:flex gap-2">
<a href="{{ url_for('home') }}" class="px-3 py-2 rounded hover:bg-blue-600">Accueil</a>
<a href="{{ url_for('investissement') }}" class="px-3 py-2 rounded hover:bg-blue-600">Investir</a>
<a href="{{ url_for('recrutement') }}" class="px-3 py-2 rounded hover:bg-blue-600">Recrutement</a>
</nav>
</div>
</header>

<main class="container">

{% set whatsapp_number_foyer = "22957163510" %}
{% set whatsapp_number_marche = "22968593238" %}
{% set whatsapp_message = "Bonjour Muni Market, je souhaite commander : " %}

<h1 class="text-4xl font-extrabold text-center mb-12">Nos Produits Disponibles</h1>

<section class="mb-16">
<h2>Articles Électroménagers</h2>

{% if articles_foyer %}
<div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6">
{% for article in articles_foyer %}
{% if article|get_attr('is_footer') %}
<div class="product-footer">{{ article|get_attr('designation') }}</div>
{% else %}
<div class="product-card">
<div>
{% if article|get_attr('image') %}
<img src="{{ article|get_attr('image') }}">
{% endif %}
<h3 class="font-semibold text-lg">{{ article|get_attr('designation') }}</h3>
<p class="text-sm text-gray-500">Prix : {{ "%.2f"|format(article|get_attr('price')) }} F</p>
</div>
<a href="https://wa.me/{{ whatsapp_number_foyer }}?text={{ whatsapp_message|urlencode }}{{ article|get_attr('designation')|urlencode }}"
target="_blank" class="button">Commander</a>
</div>
{% endif %}
{% endfor %}
</div>
{% else %}
<p class="text-center text-gray-400">Aucun produit disponible</p>
{% endif %}
</section>

<section>
<h2>Produits du Marché</h2>

{% if produits_marche %}
<div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6">
{% for produit in produits_marche %}
<div class="product-card">
<div>
{% if produit|get_attr('image') %}
<img src="{{ produit|get_attr('image') }}">
{% endif %}
<h3 class="font-semibold text-lg">{{ produit|get_attr('designation') }}</h3>
<p class="text-sm text-gray-500">Prix : {{ "%.2f"|format(produit|get_attr('price')) }} F</p>
</div>
<a href="https://wa.me/{{ whatsapp_number_marche }}?text={{ whatsapp_message|urlencode }}{{ produit|get_attr('designation')|urlencode }}"
target="_blank" class="button">Commander</a>
</div>
{% endfor %}
</div>
{% else %}
<p class="text-center text-gray-400">Aucun produit disponible</p>
{% endif %}
</section>

</main>

<footer>© 2025 Muni-Market – Tous droits réservés</footer>

</body>
</html>
