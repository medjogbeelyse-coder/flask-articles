<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Postuler - Rejoindre l'Équipe</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; }
    </style>
</head>
<body class="bg-pink-50 flex items-center justify-center min-h-screen p-4">

    <div class="max-w-xl w-full bg-white rounded-xl shadow-2xl p-8 space-y-6">
        <header class="text-center">
            <h1 class="text-3xl font-bold text-pink-700 mb-2">Rejoignez notre Équipe</h1>
            <p class="text-gray-500 mb-4">Veuillez remplir ce formulaire de candidature détaillé.</p>
            
            <!-- NOUVELLE ALERTE WHATSAPP -->
            <p class="text-base font-semibold text-green-700 bg-green-100 p-3 rounded-lg my-4 border border-green-200 shadow-sm">
                Vous serez redirigé(e) vers WhatsApp pour finaliser votre candidature.
            </p>
            <!-- FIN NOUVELLE ALERTE -->
        </header>

        <!-- Affichage des Messages Flash (pour le succès de la soumission) -->
        {% with messages = get_flashed_messages(with_categories=true) %}
            {% if messages %}
                <ul class="space-y-2">
                    {% for category, message in messages %}
                        <!-- Nous n'affichons que le succès ici car les erreurs sont rares sur un formulaire de recrutement -->
                        {% if category == 'success' %}
                        <li class="p-3 rounded-lg text-sm bg-green-100 text-green-700 border-l-4 border-green-500 font-medium">
                            {{ message }}
                        </li>
                        {% endif %}
                    {% endfor %}
                </ul>
            {% endif %}
        {% endwith %}

        <form method="POST" class="space-y-4">
            
            <!-- Informations Personnelles -->
            <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                <div>
                    <label for="prenom" class="block text-sm font-medium text-gray-700 text-left">Prénom</label>
                    <input type="text" id="prenom" name="prenom" placeholder="Votre prénom" required
                           class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:ring-pink-500 focus:border-pink-500">
                </div>
                <div>
                    <label for="nom" class="block text-sm font-medium text-gray-700 text-left">Nom</label>
                    <input type="text" id="nom" name="nom" placeholder="Votre nom" required
                           class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:ring-pink-500 focus:border-pink-500">
                </div>
            </div>

            <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                <div>
                    <label for="email" class="block text-sm font-medium text-gray-700 text-left">Email (Facultatif)</label>
                    <!-- L'attribut 'required' a été supprimé pour le rendre facultatif -->
                    <input type="email" id="email" name="email" placeholder="Votre adresse email"
                           class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:ring-pink-500 focus:border-pink-500">
                </div>
                <div>
                    <label for="age" class="block text-sm font-medium text-gray-700 text-left">Âge</label>
                    <input type="number" id="age" name="age" min="18" max="99" placeholder="Votre âge" required
                           class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:ring-pink-500 focus:border-pink-500">
                </div>
            </div>

            <!-- Informations Professionnelles -->
            <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                <div>
                    <label for="formation" class="block text-sm font-medium text-gray-700 text-left">Quelle formation professionnelle vous avez faite ?</label>
                    <!-- Ce champ remplace le "Poste Souhaité" -->
                    <input type="text" id="formation" name="formation" placeholder="Ex: CAP Cuisine, Formation en Comptabilité..." required
                           class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:ring-pink-500 focus:border-pink-500">
                </div>
                <div>
                    <label for="niveau_etude" class="block text-sm font-medium text-gray-700 text-left">Niveau d'Étude (Max)</label>
                    <select id="niveau_etude" name="niveau_etude" required
                            class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:ring-pink-500 focus:border-pink-500 bg-white">
                        <option value="">Sélectionner</option>
                        <option value="CEP">CEP</option>
                        <option value="BEPC">BEPC</option>
                        <option value="BAC">BAC</option>
                        <option value="Licence">Licence</option>
                        <option value="Master">Master</option>
                        <option value="Doctorat">Doctorat</option>
                        <option value="Autre">Autre</option>
                    </select>
                </div>
            </div>

            <div>
                <label for="diplome" class="block text-sm font-medium text-gray-700 text-left">Diplôme (Dernier obtenu)</label>
                <input type="text" id="diplome" name="diplome" placeholder="Ex: Master en Informatique" required
                       class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:ring-pink-500 focus:border-pink-500">
            </div>

            <div>
                <label for="experience" class="block text-sm font-medium text-gray-700 text-left">Expérience / Motivation</label>
                <textarea id="experience" name="experience" rows="4" required
                          class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:ring-pink-500 focus:border-pink-500" placeholder="Décrivez brièvement votre expérience pertinente ou votre motivation (même courte)."></textarea>
            </div>

            <button type="submit"
                    class="w-full flex justify-center py-2 px-4 border border-transparent rounded-lg shadow-md text-lg font-medium text-white bg-pink-600 hover:bg-pink-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-pink-500 transition duration-150 transform hover:scale-[1.01]">
                Envoyer Candidature & Alerte WhatsApp
            </button>
        </form>

        <p class="text-center text-sm mt-6">
            <a href="{{ url_for('home') }}" class="font-medium text-pink-600 hover:text-pink-500 transition duration-150">
                &larr; Retour à l'accueil
            </a>
        </p>
    </div>
</body>
</html>
